(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7c24cadb"],{"0a0d":function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("div",{staticClass:"k-title"},[t._v("项目列表")]),e("div",{staticClass:"knife4j-aa"},[e("div",[e("a-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"info-circle"},on:{click:t.showModal}},[t._v("规则说明")]),e("a-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"plus"},on:{click:t.addProject}},[t._v("添加项目")]),e("a-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"reload"},on:{click:t.inits}},[t._v("刷新")])],1),e("div",{staticStyle:{"margin-top":"10px"}},[e("a-table",{attrs:{columns:t.columns,size:"small",rowKey:"code","data-source":t.data,pagination:!1},scopedSlots:t._u([{key:"code",fn:function(s,i){return e("span",{},[e("a",{attrs:{target:"_blank",href:"#/project/"+s}},[t._v(" ["+t._s(s)+"]"+t._s(i.name))])])}},{key:"action",fn:function(s,i){return e("span",{},[e("a-button",{attrs:{type:"primary",icon:"form"},on:{click:function(s){return t.info(i)}}},[t._v("查看详情")]),e("a-button",{staticStyle:{"margin-left":"10px",background:"#ff4d4f",color:"white"},attrs:{type:"danger",icon:"delete"},on:{click:function(s){return t.deletePro(i)}}},[t._v("删除")])],1)}}])})],1),e("a-modal",{attrs:{title:"平台规则说明",visible:t.visible,"confirm-loading":t.confirmLoading,footer:null,width:t.width},on:{cancel:t.handleCancel}},[e("IndexIntro")],1),e("a-modal",{attrs:{title:t.ptitle,visible:t.pvisible,"confirm-loading":t.confirmLoading,width:t.width,okText:"确定",cancelText:"取消"},on:{ok:t.handleOk,cancel:t.handleProjectCancel}},[e("a-textarea",{staticStyle:{height:"300px"},attrs:{placeholder:"输入项目的JSON","auto-Size":{minRows:5,maxRows:10}},model:{value:t.ptext,callback:function(s){t.ptext=s},expression:"ptext"}})],1)],1)])},a=[],r=(e("a4d3"),e("e01a"),e("b0c0"),function(){var t=this,s=t.$createElement;t._self._c;return t._m(0)}),n=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"typora-export os-windows"},[e("div",{staticClass:"is-node",attrs:{id:"write"}},[e("p",[e("span",[t._v("1、添加项目必须按照如下格式进行")])]),e("pre",{staticClass:"md-fences md-end-block ty-contain-cm modeLoaded",staticStyle:{"break-inside":"unset"},attrs:{spellcheck:"false",lang:"json"}},[e("div",{staticClass:"CodeMirror cm-s-inner CodeMirror-wrap",attrs:{lang:"json"}},[e("div",{staticStyle:{overflow:"hidden",position:"relative",width:"3px",height:"0px",top:"0px",left:"4px"}},[e("textarea",{staticStyle:{position:"absolute",bottom:"-1em",padding:"0px",width:"1000px",height:"1em",outline:"none"},attrs:{autocorrect:"off",autocapitalize:"off",spellcheck:"false",tabindex:"0"}})]),e("div",{staticClass:"CodeMirror-scrollbar-filler",attrs:{"cm-not-content":"true"}}),e("div",{staticClass:"CodeMirror-gutter-filler",attrs:{"cm-not-content":"true"}}),e("div",{staticClass:"CodeMirror-scroll",attrs:{tabindex:"-1"}},[e("div",{staticClass:"CodeMirror-sizer",staticStyle:{"margin-left":"0px","margin-bottom":"0px","border-right-width":"0px","padding-right":"0px","padding-bottom":"0px"}},[e("div",{staticStyle:{position:"relative",top:"0px"}},[e("div",{staticClass:"CodeMirror-lines",attrs:{role:"presentation"}},[e("div",{staticStyle:{position:"relative",outline:"none"},attrs:{role:"presentation"}},[e("div",{staticClass:"CodeMirror-measure"},[e("pre",[e("span",[t._v("xxxxxxxxxx")])])]),e("div",{staticClass:"CodeMirror-measure"}),e("div",{staticStyle:{position:"relative","z-index":"1"}}),e("div",{staticClass:"CodeMirror-code",attrs:{role:"presentation"}},[e("div",{staticClass:"CodeMirror-activeline",staticStyle:{position:"relative"}},[e("div",{staticClass:"CodeMirror-activeline-background CodeMirror-linebackground"}),e("div",{staticClass:"CodeMirror-gutter-background CodeMirror-activeline-gutter",staticStyle:{left:"0px",width:"0px"}}),e("pre",{staticClass:" CodeMirror-line ",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[t._v("{")])])]),e("pre",{staticClass:" CodeMirror-line ",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[t._v("    "),e("span",{staticClass:"cm-string cm-property"},[t._v('"name"')]),t._v(": "),e("span",{staticClass:"cm-string"},[t._v('"大数据测试平台"')]),t._v(",")])]),e("pre",{staticClass:" CodeMirror-line ",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[t._v("    "),e("span",{staticClass:"cm-string cm-property"},[t._v('"code"')]),t._v(":"),e("span",{staticClass:"cm-string"},[t._v('"test1"')]),t._v(",")])]),e("pre",{staticClass:" CodeMirror-line ",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[t._v("    "),e("span",{staticClass:"cm-string cm-property"},[t._v('"description"')]),t._v(":"),e("span",{staticClass:"cm-string"},[t._v('"我是描述信息"')]),t._v(",")])]),e("pre",{staticClass:" CodeMirror-line ",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[t._v("    "),e("span",{staticClass:"cm-string cm-property"},[t._v('"groups"')]),t._v(": [")])]),e("pre",{staticClass:" CodeMirror-line ",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[t._v("        {")])]),e("pre",{staticClass:" CodeMirror-line ",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[t._v("            "),e("span",{staticClass:"cm-string cm-property"},[t._v('"name"')]),t._v(": "),e("span",{staticClass:"cm-string"},[t._v('"用户模块"')]),t._v(",")])]),e("pre",{staticClass:" CodeMirror-line ",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[t._v("            "),e("span",{staticClass:"cm-string cm-property"},[t._v('"uri"')]),t._v(":"),e("span",{staticClass:"cm-string"},[t._v('"http://knife4j.xiaominfo.com"')]),t._v(",")])]),e("pre",{staticClass:" CodeMirror-line ",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[t._v("            "),e("span",{staticClass:"cm-string cm-property"},[t._v('"header"')]),t._v(":"),e("span",{staticClass:"cm-string"},[t._v('"server1"')]),t._v(",")])]),e("pre",{staticClass:" CodeMirror-line ",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[t._v("            "),e("span",{staticClass:"cm-string cm-property"},[t._v('"url"')]),t._v(": "),e("span",{staticClass:"cm-string"},[t._v('"/v2/api-docs?group=2.X版本"')]),t._v(",")])]),e("pre",{staticClass:" CodeMirror-line ",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[t._v("            "),e("span",{staticClass:"cm-string cm-property"},[t._v('"swaggerVersion"')]),t._v(": "),e("span",{staticClass:"cm-string"},[t._v('"2.0"')])])]),e("pre",{staticClass:" CodeMirror-line ",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[t._v("        },{")])]),e("pre",{staticClass:" CodeMirror-line ",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[t._v("            "),e("span",{staticClass:"cm-string cm-property"},[t._v('"name"')]),t._v(": "),e("span",{staticClass:"cm-string"},[t._v('"订单模块"')]),t._v(",")])]),e("pre",{staticClass:" CodeMirror-line ",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[t._v("            "),e("span",{staticClass:"cm-string cm-property"},[t._v('"uri"')]),t._v(":"),e("span",{staticClass:"cm-string"},[t._v('"http://swagger-bootstrap-ui.xiaominfo.com"')]),t._v(",")])]),e("pre",{staticClass:" CodeMirror-line ",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[t._v("            "),e("span",{staticClass:"cm-string cm-property"},[t._v('"header"')]),t._v(":"),e("span",{staticClass:"cm-string"},[t._v('"server2"')]),t._v(",")])]),e("pre",{staticClass:" CodeMirror-line ",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[t._v("            "),e("span",{staticClass:"cm-string cm-property"},[t._v('"url"')]),t._v(": "),e("span",{staticClass:"cm-string"},[t._v('"/v2/api-docs?group=1.8.X版本接口"')]),t._v(",")])]),e("pre",{staticClass:" CodeMirror-line ",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[t._v("            "),e("span",{staticClass:"cm-string cm-property"},[t._v('"swaggerVersion"')]),t._v(": "),e("span",{staticClass:"cm-string"},[t._v('"2.0"')])])]),e("pre",{staticClass:" CodeMirror-line ",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[t._v("        }")])]),e("pre",{staticClass:" CodeMirror-line ",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[t._v("        "),e("span",{staticClass:"cm-comment"},[t._v("//more..")])])]),e("pre",{staticClass:" CodeMirror-line ",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[t._v("    ]")])]),e("pre",{staticClass:" CodeMirror-line ",attrs:{role:"presentation"}},[e("span",{staticStyle:{"padding-right":"0.1px"},attrs:{role:"presentation"}},[t._v("}")])])])])])])]),e("div",{staticStyle:{position:"absolute",height:"0px",width:"1px","border-bottom":"0px solid transparent",top:"420px"}}),e("div",{staticClass:"CodeMirror-gutters",staticStyle:{display:"none",height:"420px"}})])])]),e("p",[e("span",[t._v("2、平台会根据用户上传的JSON文件在服务端保存一个")]),e("code",[t._v(".json")]),e("span",[t._v("文件,每一个项目代表内容都是以上一个完整的")]),e("code",[t._v("json")]),e("span",[t._v("文件")])]),e("p",[e("span",[t._v("3、项目")]),e("code",[t._v("code")]),e("span",[t._v("必须唯一")])]),e("p",[e("span",[t._v("4、项目下的服务列表信息中，")]),e("code",[t._v("header")]),e("span",[t._v("必须全局唯一,该参数值用户可以随机生成,只需要保证唯一性即可,作为Spring Cloud Gateway网关组件的转发依据")])]),e("p",[e("span",[t._v("5、")]),e("code",[t._v("groups")]),e("span",[t._v("集合中,所提供的Swagger接口必须保证可以访问,完整的访问路径是")]),e("code",[t._v("uri")]),e("span",[t._v("+")]),e("code",[t._v("url")])]),e("p")])])}],o=(e("5b31"),e("2877")),l={},p=Object(o["a"])(l,r,n,!1,null,"65481d4c",null),c=p.exports,d=[{dataIndex:"code",key:"code",title:"项目名称",width:"30%",scopedSlots:{customRender:"code"}},{title:"描述",dataIndex:"description",key:"description",width:"50%"},{title:"操作",key:"action",scopedSlots:{customRender:"action"}}],v={components:{IndexIntro:c},data:function(){return{data:[],plus:!0,ptitle:"添加项目",width:850,ptext:null,visible:!1,pvisible:!1,confirmLoading:!1,columns:d}},created:function(){this.inits()},methods:{addProject:function(){this.ptitle="添加项目",this.pvisible=!0,this.ptext=null,this.plus=!0},showModal:function(){this.visible=!0},handleOk:function(t){var s=this;if(this.plus){if(!this.ptext)return void s.$message.info("请输入项目JSON内容");var e=this.getData();if(null==e)return void s.$message.info("项目JSON格式非法");this.confirmLoading=!0,s.$axios({url:"/knife4j/data/merge",method:"post",headers:{"Content-Type":"application/json"},data:e}).then((function(t){8200==t.code?(s.$message.info("新增成功"),s.pvisible=!1,s.confirmLoading=!1,setTimeout((function(){s.inits()}),300)):(s.confirmLoading=!1,s.$message.error(t.message))}))}else this.pvisible=!1,this.confirmLoading=!1},getData:function(){var t=null;try{t=JSON.parse(this.ptext)}catch(s){}return t},handleCancel:function(t){this.visible=!1},handleProjectCancel:function(t){this.pvisible=!1},deletePro:function(t){console.log(t);var s=this,e="确定删除项目("+t.name+")吗?";this.$confirm({title:"删除提示",content:e,okText:"确定",cancelText:"取消",onOk:function(){s.$axios({url:"/knife4j/data/delete",method:"get",params:{code:t.code}}).then((function(t){8200===t.code?(s.$message.info("删除成功"),s.inits()):taht.$message.error(t.message)}))},onCancel:function(){s.$destroyAll()}})},info:function(t){this.plus=!1;var s={code:t.code,name:t.name,description:t.description,groups:t.groups};this.ptitle="项目明细详情(仅可读)",this.ptext=JSON.stringify(s,null,2),this.pvisible=!0},inits:function(){var t=this;this.data=[],this.$axios({url:"knife4j/data/list",method:"get"}).then((function(s){t.data=s}))}}},g=v,m=(e("1f9c"),Object(o["a"])(g,i,a,!1,null,"62543534",null));s["default"]=m.exports},"1f9c":function(t,s,e){"use strict";var i=e("e58f"),a=e.n(i);a.a},"5b31":function(t,s,e){"use strict";var i=e("75d0"),a=e.n(i);a.a},"75d0":function(t,s,e){},e58f:function(t,s,e){}}]);